<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1"/>
        <title>Main - PC</title>
        <link rel="stylesheet" href="../fonts/Modetour/Modetour.css"/>
        <link rel="stylesheet" href="../fonts/Pretendard-1.3.7/web/static/pretendard.css"/>
    </head>

    <body>

        <div id="event-container">
            <div class="floating">
                <button onclick="checkLogin('../challenge/challenge.html')">CHECK LOGIN</button>
            </div>
        </div>

        <!-- start modal -->
        <div class="modal-backdrop" id="event-modal">
            <div class="model-container">
                <div class="modal-body"></div>
                <div class="modal-footer">
                    <button class="btn-cancel" onclick="closeAlert()">취소</button>
                    <button class="btn-ok">확인</button>
                </div>
            </div>
        </div>
        <!-- end modal-->
        <script>
            const modal = document.querySelector("#event-modal");
            const modalBody = document.querySelector("#event-modal .modal-body");
            const modalButton = document.querySelector("#event-modal .modal-footer .btn-ok");
            let isLogin = false;
            function checkLogin(url) {
                if (! isLogin) {
                    modalBody.innerHTML = `회원만 참여 가능한 이벤트입니다. 로그인 하시겠습니까?`;

                    modalButton.addEventListener("click", function () {
                        isLogin = true;
                        window.location.href = url;
                    });
                    showAlert();
                } else {
                    window.location.href = url;
                }
            }
            function closeAlert() {
                modal.classList.remove("show");
            }
            function showAlert() {
                modal.classList.add("show");
            }
        </script>
    </body>
</html>
