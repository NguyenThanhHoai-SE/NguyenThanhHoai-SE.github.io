<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1"/>
        <title>Main - PC</title>
        <link rel="stylesheet" href="../fonts/Modetour/Modetour.css"/>
        <link rel="stylesheet" href="../fonts/Pretendard-1.3.7/web/static/pretendard.css"/>
    </head>

    <style>
        .button-list {
            display: flex;
            gap: 0 20px;
        }
    </style>

    <body>

        <div class="button-list" id="event-container">
            <button onclick="showPopup('ponup contain', false)">CHECK LOGIN</button>

            <button onclick="getEventList()">GEN EVENT LIST</button>

            <button onclick="joinEvent()">JOIN EVENT</button>

            <button onclick="cancelJoinEvent()">CANCEL JOIN EVENT</button>


        </div>

        <!-- end modal-->
        <script>

            function showPopup(url, isCancel) {
                window.parent.showPopupFunction(url, isCancel)
            }

            function getEventList() {
                const eventList = window.parent.getEventListFunction();
                console.log("eventList", eventList)
            }

            function joinEvent() {
                const result = window.parent.joinEventFunction();
                console.log("result join event = ", result);
            }

            function cancelJoinEvent() {
                const result = window.parent.cancelJoinEventFunction();
                console.log("result cancel join event = ", result)
            }

            // =======================================================================================
            const modal = document.querySelector("#event-modal");
            const modalBody = document.querySelector("#event-modal .modal-body");
            const modalButton = document.querySelector("#event-modal .modal-footer .btn-ok");
            let isLogin = false;
            function checkLogin(url) {
                if (! isLogin) {
                    modalBody.innerHTML = `회원만 참여 가능한 이벤트입니다. 로그인 하시겠습니까?`;

                    modalButton.addEventListener("click", function () {
                        isLogin = true;
                        window.location.href = url;
                    });
                    showAlert();
                } else {
                    window.location.href = url;
                }
            }
            function closeAlert() {
                modal.classList.remove("show");
            }
            function showAlert() {
                modal.classList.add("show");
            }


            functino
        </script>
    </body>
</html>
